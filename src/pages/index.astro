---
import Layout from '../layouts/Layout.astro';

import groups from '../../public/data/groups.json';

import ad from '../../public/data/ad.json';
import be from '../../public/data/be.json';
import cdu from '../../public/data/cdu.json';
import livre from '../../public/data/livre.json';
import ps from '../../public/data/ps.json';

import List from "../components/List";
import ListItem from "../components/ListItem";
import RadioImg from '../components/RadioImg';
import GroupCard from "../components/GroupCard.astro";

const users = [...ad, ...be, ...cdu, ...livre, ...ps];

let options = [
	{
		val: 'ad',
		eu_group: ['epp'],
		title: 'PSD + CDS + PPM',
		img: 'listas/ad.svg',
		bg_size: '70%'
	},
	{
		val: 'be',
		eu_group: ['left'],
		title: 'Bloco de Esquerda',
		img: 'listas/be.svg',
		bg_size: '70%'
	},
	{
		val: 'cdu',
		eu_group: ['left', 'greens'],
		title: 'PCP + PEV',
		img: 'listas/cdu.svg',
		bg_size: '80%'
	},
	{
		val: 'livre',
		eu_group: ['greens'],
		title: 'Livre',
		img: 'listas/livre.png',
		bg_size: 'cover'
	},
	{
		val: 'ps',
		eu_group: ['sd'],
		title: 'Partido Socialista',
		img: 'listas/ps.svg',
		bg_size: 'cover'
	}
]
---

<Layout title="Eurodeputados">
	<main>

		<h1>Euro-candidatos</h1>

		<div class="before:ml-auto after:mr-auto flex flex-nowrap overflow-scroll">
			{groups.map((group) => (
				<GroupCard group={group} />
			))}
		</div>

		<!-- List radio -->
		<div class="m-4 flex justify-center">
			<RadioImg options={options} target_class="profile" groups="true" client:load />
		</div>

		<div class="relative z-10 rounded-xl shadow-xl ring-1 ring-slate-900/5 divide-y my-auto xl:mt-18 bg-slate-800 divide-slate-200/5 highlight-white/10">
			<List>
				{users.map((user) => (
					<ListItem user={user} />
				))}
			</List>
		</div>
	</main>
</Layout>

<style>
	main {
		margin: auto;
		padding: 1rem;
		width: 830px; /* initially 800px, increased to accomodade the largest MEP name withouth getting 3 cols*/
		max-width: calc(100% - 2rem);
		font-size: 20px;
		line-height: 1.6;
	}
	h1 {
		font-size: 4rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-bottom: 1em;
	}
</style>