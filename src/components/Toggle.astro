---
function getURL(name: string): string{
    return `/img/${name}.png`
}

const parties = ['PS', 'PSD'];
---
<div class="toggle">
    {parties.map(
        (name) => (
            <div class="b"><img data-toggle-filter data-group={name} src={getURL(name)} alt={name}/></div>
        )
    )}
</div>

<script>
    
    // Find our component DOM on the page.
    const buttons = document.querySelectorAll('[data-toggle-filter]');

    // Add event listeners to fire confetti when a button is clicked.
    buttons.forEach((button) => {
        button.addEventListener('click', (e) => toggle_filter(e));
    });

function toggle_filter(e: Event): void {
    if (e.target && e.target instanceof HTMLElement)
    {
        e.target.classList.toggle("selected")
        let group_filter = e.target.getAttribute('data-group');

        if (group_filter)
        {
            let elements = document.getElementsByClassName(group_filter)
            Array.from(elements).forEach(elem => elem.toggleAttribute('hidden'));
        }
    }
}
</script>

<style>

    .toggle {
        display: flex;
        justify-content: center;
    }

    .b {
        display: flex;
        justify-content: center;
        align-items: center;

        padding: 0 10px;
        width: 52px;
        height: 52px;
    }

    img {
        border-radius: 50%;
        object-fit: cover;
        width: 50px;
        height: 50px;
        outline: none;
    }

    img.selected {
        outline: 2px solid aqua;
        outline-offset: -1px;
    }
</style>